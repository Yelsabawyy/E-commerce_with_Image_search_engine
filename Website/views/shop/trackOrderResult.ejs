<!DOCTYPE html>
<html>
<head>

<!-- css sheet start-->

    <!-- css components sheet start-->
    <link rel="stylesheet" type="text/css" href="../css/components/items.css"/>
    <link rel="stylesheet" type="text/css" href="../css/components/colors.css"/>
    <link rel="stylesheet" type="text/css" href="../css/components/form.css"/>
        <!-- css components sheet end-->
        <!-- css includes sheet start-->
    <link rel="stylesheet" type="text/css" href="../css/includes/header1.css"/>    
    <link rel="stylesheet" type="text/css" href="../css/includes/header2.css"/>    
    <link rel="stylesheet" type="text/css" href="../css/includes/userNavbar.css"/> 
    <link rel="stylesheet" type="text/css" href="../css/includes/footer.css"/>      
        <!-- css includes sheet end-->
        <!-- css general sheet start-->
    <link rel="stylesheet" type="text/css" href="../css/general.css"/>    
        <!-- css general sheet end-->    
        <!-- css page sheet end-->    
    <link rel="stylesheet" type="text/css" href="../css/trackOrder.css"/>
        <!-- css page sheet end-->
        <!-- css bootstrap3.4.1 sheet end-->    
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <!-- css bootstrap3.4.1 sheet end-->
    
    <!-- css sheet start-->
    
    <!-- js file start-->
        <!-- js header2 file start-->
    <script src="../js/includes/header2.js"></script> 
        <!-- js header2 file end-->
        <!-- js bootstrap file start-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <!-- js bootstrap file end-->
    
    <!-- js file end-->
    
    <title>Track Order</title>
</head>
<body>
  
<!-- sidenavbar start-->
<%- include('../include/sidenavbar'); %>
<!-- sidenavbar end-->


<div id="myBody">    
<!--header1 Start-->
    <%- include('../include/header1'); %>
<!--header1 End-->
<!--header1 Start-->
    <%- include('../include/header2'); %>
<!--header1 End-->
<div class="container trackOrder">
    <div class="container">

        <div class="col-md-6 col-sm-6  col-xs-12">

            <div class="col-xs-12 startLeft"><b>Order ID:</b><span><%=order._id%></span></div>
            <div class="col-xs-12 startLeft"><b>Customer Email:</b><span><%=order.user.email%></span></div>
        </div>
        <div class="col-md-6 col-sm-6  col-xs-12">
            <div class="col-xs-12 startRight"><b>Address:</b><span> <%=order.user.address%></span></div>
            <div class="col-xs-12 startRight"><b>Order Price:</b><span><%=order.orderPrice%> EG</span></div>
        </div>
    </div>
    <hr class="hr">
    
    <div class="track">
        <div class="step active"> <span class="icon"> 
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" class="vertical-center center whiteColor bi bi-file-earmark-text" viewBox="0 0 16 16">
                <path d="M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z"/>
                <path d="M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5L9.5 0zm0 1v2A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z"/>
              </svg>
        </span> <span class="text ">Order Placed</span> </div>
        <div class="step <%= order.ready == true ? 'active' : ''%>"> <span class="icon"> 
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" class="vertical-center center whiteColor bi bi-check-circle" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"/>
              </svg> </span> <span class="text "> Ready</span> </div>
        <div class="step <%= order.shipped == true ? 'active' : ''%>"> <span class="icon"> 
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" class="vertical-center center whiteColor bi bi-truck" viewBox="0 0 16 16">
                <path d="M0 3.5A1.5 1.5 0 0 1 1.5 2h9A1.5 1.5 0 0 1 12 3.5V5h1.02a1.5 1.5 0 0 1 1.17.563l1.481 1.85a1.5 1.5 0 0 1 .329.938V10.5a1.5 1.5 0 0 1-1.5 1.5H14a2 2 0 1 1-4 0H5a2 2 0 1 1-3.998-.085A1.5 1.5 0 0 1 0 10.5v-7zm1.294 7.456A1.999 1.999 0 0 1 4.732 11h5.536a2.01 2.01 0 0 1 .732-.732V3.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .294.456zM12 10a2 2 0 0 1 1.732 1h.768a.5.5 0 0 0 .5-.5V8.35a.5.5 0 0 0-.11-.312l-1.48-1.85A.5.5 0 0 0 13.02 6H12v4zm-9 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm9 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/>
              </svg>
         </span> <span class="text ">On The Way</span> </div>
        <div class="step <%= order.arrived == true ? 'active' : ''%> "> <span class="icon"> 
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"  class="vertical-center center whiteColor bi bi-check-circle-fill" viewBox="0 0 16 16">
                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
              </svg> </span> <span class="text ">Delivered</span> </div>
    </div>

    <hr class="hr">
    <div class="container">
        <h2 class=" greenColor flex-start" style="margin-left: 70px;">Thanks for your order</h2><br>
        
        <div class="" >
            <h4 class=" greenColor flex-start" style="margin-left: 70px;">Payment Summary</h4>
            <hr class="hr-dash">
            <div style="margin-left: 70px; margin-right: 70px;">
                <% if (products.length>0){ %>
                    <% for (let product of products) {%>
                        <% console.log(product)%>
            <div class="flex-space-between"><div ><b ><%=product.productId.name%>(<%=product.quantity%>)</b></div ><div><p ><%=product.productId.currentprice%> x <%=product.quantity%> EG</p></div></div> 
                <%} }%>

                <% if (meals.length>0){ %>
                    <% for (let meal of meals) {%>
            <div class="flex-space-between"><div><b><%=meal.readyMealId.name%> (<%=meal.quantity%>)</b></div><div> <p><%=meal.readyMealId.currentprice%> x <%=meal.quantity%> EG</p></div></div>
                    <%} }%>
                    <hr>
            <div class="flex-space-between"><div><b>Total Price:</b></div><div> <p><%=order.orderPrice%> EG</p></div></div>
            </div>
        </div>
    </div>
    <div>
        <form action="../trackOrder" method="GET">
            <button class="formButton">
                Track Another Order
            </button>
        </form>
    </div>
    </div>
    
  
</div>
    <!--footer Start-->
    <%- include('../include/footer'); %>
    <!--footer End-->
</body>
</html>